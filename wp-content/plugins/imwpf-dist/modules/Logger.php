<?php
 namespace imwpf\modules; class Logger { protected static $logger = array(); protected static $rotation = array(); public static function getInstance($config) { $key = md5(json_encode($config)); if (!isset(self::$logger[$key])) { $Logger = new logger\File(); $Converter = new logger\converter\Json(); $Logger->setLevel($config['level'])->setPath($config['path'])->setConverter($Converter); self::$logger[$key] = $Logger; } return self::$logger[$key]; } public static function getRotateInstance($config) { $key = md5(json_encode($config)); if (!isset(self::$rotation[$key])) { $Logger = new logger\File(); $Converter = new logger\converter\Json(); $Logger->setLevel($config['level'])->setPath($config['path'])->setConverter($Converter); $RotateLogger = new logger\RotateFile($Logger); self::$rotation[$key] = $RotateLogger; } return self::$rotation[$key]; } } 