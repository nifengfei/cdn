<?php
 namespace imwpf\modules\logger; class File extends Normal implements LoggerInterface { protected $name = 'service'; protected $path = ''; public function setPath($path) { if (!file_exists($path)) { mkdir($path, 0775, true); } $this->path = $path; return $this; } public function getPath() { return $this->path; } public function setName($logName) { $this->name = $logName; } public function getName() { return $this->name; } public function log($level, $message) { if (!$this->canRecord($level)) { return true; } $levelString = $this->logLevelToString($level); $logPath = $this->path . '/' . $this->name . '.log'; $message = $this->getConverter()->convert($message, $levelString); $message .= "\n"; return file_put_contents($logPath, $message, FILE_APPEND | LOCK_EX); } } 